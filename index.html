<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Quizart - Histoire de l'Art</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- Header -->
  <header>
    <h1>Quizart</h1>
    <p class="tagline">DÃ©couvrez l'histoire de l'art autrement</p>
    <div class="mode-toggle">
      <button id="editModeBtn" class="mode-btn active">âœï¸ Mode Ã‰dition</button>
      <button id="quizModeBtn" class="mode-btn">ğŸ¯ Mode Quiz</button>
    </div>
  </header>

  <!-- MODE Ã‰DITION -->
  <div id="editMode" class="mode-container active">
    <div class="editor-layout">
      <!-- Sidebar avec liste des cartes -->
      <aside class="cards-sidebar">
        <div class="sidebar-header">
          <h2>ğŸ“š Cartes</h2>
          <div class="sidebar-controls">
            <button id="addCardBtn" class="btn btn-primary">â• Nouvelle carte</button>
            <select id="sortSelect" class="sort-select">
              <option value="order">Ordre par dÃ©faut</option>
              <option value="date-asc">Date croissante</option>
              <option value="date-desc">Date dÃ©croissante</option>
              <option value="artist">Artiste A-Z</option>
            </select>
            
            <div class="backup-controls">
              <button id="exportBtn" class="btn btn-success">ğŸ’¾ Sauvegarder mes cartes</button>
              <button id="importBtn" class="btn btn-secondary">ğŸ“‚ Restaurer mes cartes</button>
              <input type="file" id="importFile" accept=".json" style="display: none;">
            </div>
          </div>
        </div>
        
        <div id="cardsList" class="cards-list">
          <!-- Les cartes seront ajoutÃ©es ici dynamiquement -->
        </div>
      </aside>

      <!-- Zone d'Ã©dition principale -->
      <main class="editor-main">
        <div id="editorContent" class="editor-content">
          <div class="empty-state">
            <div class="empty-icon">ğŸ¨</div>
            <h3>Aucune carte sÃ©lectionnÃ©e</h3>
            <p>SÃ©lectionnez une carte ou crÃ©ez-en une nouvelle</p>
          </div>
        </div>

        <!-- Formulaire d'Ã©dition (cachÃ© par dÃ©faut) -->
        <div id="cardEditor" class="card-editor" style="display: none;">
          <div class="editor-header">
            <h3>Ã‰dition de la carte</h3>
            <div class="header-actions">
              <button id="toggleToWorkBtn" class="btn btn-warning">â­ Ã€ travailler</button>
              <button id="deleteCardBtn" class="btn btn-danger">ğŸ—‘ï¸ Supprimer</button>
            </div>
          </div>

          <!-- Statistiques de la carte -->
          <div id="cardStats" class="card-stats">
            <h4>ğŸ“Š Statistiques</h4>
            <div class="stats-grid">
              <div class="stat-box">
                <span class="stat-number" id="statPlayed">0</span>
                <span class="stat-label">Fois jouÃ©e</span>
              </div>
              <div class="stat-box">
                <span class="stat-number stat-success" id="statCorrect">0</span>
                <span class="stat-label">RÃ©ussites</span>
              </div>
              <div class="stat-box">
                <span class="stat-number stat-error" id="statWrong">0</span>
                <span class="stat-label">Erreurs</span>
              </div>
              <div class="stat-box">
                <span class="stat-number stat-rate" id="statRate">0%</span>
                <span class="stat-label">Taux de rÃ©ussite</span>
              </div>
            </div>
            <button id="resetStatsBtn" class="btn btn-secondary btn-small">ğŸ”„ RÃ©initialiser les stats</button>
          </div>

          <div class="form-group">
            <label for="cardImage">Image de l'Å“uvre *</label>
            <input type="file" id="cardImage" accept="image/*">
            <div id="imagePreview" class="image-preview"></div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="cardArtist">Artiste *</label>
              <input type="text" id="cardArtist" placeholder="Ex: Caravage" required>
            </div>

            <div class="form-group">
              <label for="cardDate">Date *</label>
              <input type="text" id="cardDate" placeholder="Ex: 1602" required>
            </div>
          </div>

          <div class="form-group">
            <label for="cardTitle">Titre de l'Å“uvre *</label>
            <input type="text" id="cardTitle" placeholder="Ex: Le Caravage Ã  EmmaÃ¼s" required>
          </div>

          <div class="editor-actions">
            <button id="saveCardBtn" class="btn btn-success">ğŸ’¾ Enregistrer</button>
            <button id="cancelEditBtn" class="btn btn-secondary">Annuler</button>
          </div>
        </div>
      </main>
    </div>
  </div>

  <!-- MODE QUIZ -->
  <div id="quizMode" class="mode-container">
    <div class="quiz-container">
      <!-- En-tÃªte du quiz -->
      <div class="quiz-header">
        <div class="quiz-header-content">
          <h2 id="quizTitle">TESTEZ VOS CONNAISSANCES</h2>
          
          <!-- SÃ©lecteur de mode -->
          <div class="quiz-mode-selector">
            <button class="quiz-mode-btn active" data-mode="all">ğŸ“š Toutes les cartes</button>
            <button class="quiz-mode-btn" data-mode="towork">â­ Ã€ travailler</button>
          </div>
        </div>
        
        <div class="quiz-progress">
          <span id="progressText">1 / 55</span>
          <div class="progress-bar">
            <div id="progressFill" class="progress-fill"></div>
          </div>
        </div>
      </div>

      <!-- Contenu du quiz -->
      <div id="quizContent" class="quiz-content">
        <!-- Ã‰tat vide -->
        <div id="quizEmpty" class="empty-state">
          <div class="empty-icon">ğŸ“</div>
          <h3>Aucune carte disponible</h3>
          <p>CrÃ©ez des cartes en mode Ã©dition pour commencer le quiz</p>
        </div>

        <!-- Carte du quiz -->
        <div id="quizCard" class="quiz-card" style="display: none;">
          <div class="card-image-container">
            <img id="quizCardImage" src="" alt="Å’uvre d'art">
          </div>
          
          <div class="quiz-answer">
            <input type="text" id="quizInput" placeholder="Votre rÃ©ponse" autocomplete="off">
            <button id="verifyBtn" class="btn btn-verify">VÃ©rifier</button>
          </div>

          <div id="quizFeedback" class="quiz-feedback" style="display: none;">
            <div class="feedback-content">
              <span class="feedback-icon"></span>
              <span class="feedback-text"></span>
            </div>
            <div class="correct-answer" id="correctAnswer"></div>
          </div>
        </div>

        <!-- Carte de rÃ©sultat -->
        <div id="quizResult" class="quiz-result" style="display: none;">
          <div class="result-icon">ğŸ‰</div>
          <h3>Quiz terminÃ© !</h3>
          <div class="result-stats">
            <div class="stat">
              <span class="stat-value" id="correctCount">0</span>
              <span class="stat-label">Bonnes rÃ©ponses</span>
            </div>
            <div class="stat">
              <span class="stat-value" id="wrongCount">0</span>
              <span class="stat-label">Erreurs</span>
            </div>
            <div class="stat">
              <span class="stat-value" id="scorePercent">0%</span>
              <span class="stat-label">Score</span>
            </div>
          </div>
          <div class="result-actions">
            <button id="restartQuizBtn" class="btn btn-primary">ğŸ”„ Recommencer</button>
            <button id="viewHistoryBtn" class="btn btn-secondary">ğŸ“ˆ Voir l'historique</button>
          </div>
        </div>
      </div>

      <!-- Navigation -->
      <div class="quiz-navigation">
        <button id="prevCardBtn" class="nav-btn" disabled>â† PrÃ©cÃ©dent</button>
        <button id="nextCardBtn" class="nav-btn">Suivant â†’</button>
      </div>
    </div>
  </div>

  <!-- Toast notifications -->
  <div id="toastContainer" class="toast-container"></div>

  <!-- Modal Historique -->
  <div id="historyModal" class="modal">
    <div class="modal-content modal-large">
      <div class="modal-header">
        <h3>ğŸ“ˆ Historique des quiz</h3>
        <button class="modal-close" onclick="closeHistoryModal()">âœ•</button>
      </div>
      
      <div id="historyContent" class="history-content">
        <div class="history-empty">
          <div class="empty-icon">ğŸ“Š</div>
          <p>Aucun historique pour le moment</p>
          <p class="small">ComplÃ©tez un quiz pour voir vos statistiques</p>
        </div>
        
        <div id="historyChart" style="display: none;">
          <canvas id="progressChart" width="600" height="300"></canvas>
        </div>
        
        <div id="historyList" class="history-list"></div>
      </div>
      
      <div class="modal-footer">
        <button id="clearHistoryBtn" class="btn btn-danger">ğŸ—‘ï¸ Effacer l'historique</button>
        <button class="btn btn-secondary" onclick="closeHistoryModal()">Fermer</button>
      </div>
    </div>
  </div>

  <!-- Modal de confirmation -->
  <div id="confirmModal" class="modal modal-popup">
    <div class="popup-overlay" onclick="document.getElementById('confirmNo').click()"></div>
    <div class="modal-content modal-confirm">
      <div class="confirm-icon">âš ï¸</div>
      <h3 id="confirmTitle">Confirmation</h3>
      <p id="confirmMessage">ÃŠtes-vous sÃ»r ?</p>
      <div class="modal-buttons">
        <button id="confirmYes" class="btn btn-danger">Oui</button>
        <button id="confirmNo" class="btn btn-secondary">Non</button>
      </div>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
