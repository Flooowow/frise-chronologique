<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Frise Chronologique Interactive</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- Menu latÃ©ral -->
  <div id="sidebar" class="sidebar">
    <button id="toggleMenu" class="toggle-btn">â—€</button>

    <div class="sidebar-content">
      <h2>ParamÃ¨tres de la frise</h2>

      <div class="form-group">
        <label>AnnÃ©e dÃ©but</label>
        <input type="number" id="startYear" value="-500" />
      </div>

      <div class="form-group">
        <label>AnnÃ©e fin</label>
        <input type="number" id="endYear" value="2000" />
      </div>

      <div class="form-group">
        <label>Ã‰chelle (graduation principale)</label>
        <input type="number" id="scale" value="50" />
      </div>

      <div class="form-group">
        <label>Pages horizontales</label>
        <input type="number" id="pagesH" min="1" max="10" value="3" />
      </div>

      <div class="form-group">
        <label>Pages verticales</label>
        <input type="number" id="pagesV" min="1" max="10" value="2" />
      </div>

      <div class="form-group">
        <label>Ã‰paisseur de la frise</label>
        <input type="range" id="timelineThickness" min="20" max="80" value="40" />
      </div>

      <div class="form-group">
        <label>Position frise (Y)</label>
        <input type="range" id="timelineY" min="50" max="700" value="300" />
      </div>

      <div class="form-group">
        <label>Zoom</label>
        <input type="range" id="zoomLevel" min="0.5" max="3" step="0.1" value="1" />
      </div>

      <div class="form-group">
        <label>Position frise (Y)</label>
        <input type="range" id="timelineY" min="50" max="2000" value="300" />
      </div>

      <div class="form-group">
        <label>Couleur du fond</label>
        <input type="color" id="bgColor" value="#ffffff" />
        <button class="btn btn-secondary" onclick="applyBackgroundColor()" style="margin-top: 5px;">
          Appliquer
        </button>
      </div>
          Appliquer
        </button>
      </div>

      <div class="form-group">
        <label>
          <input type="checkbox" id="showGrid" checked />
          Afficher le quadrillage
        </label>
      </div>

      <button class="btn btn-primary" onclick="centerOnYearZero()">ğŸ“ Centrer sur l'annÃ©e 0</button>
      <button class="btn btn-blue" onclick="showEventModal()">â• Ajouter Ã©vÃ©nement</button>
      <button class="btn btn-purple" onclick="showPeriodModal()">â• Ajouter pÃ©riode</button>
      <button class="btn btn-green" onclick="showArtistModal()">â• Ajouter artiste</button>

      <hr style="margin: 20px 0; border: none; border-top: 1px solid #e5e7eb;" />

      <h3>Sauvegarde</h3>
      <button class="btn btn-success" onclick="saveToFile()">ğŸ’¾ TÃ©lÃ©charger sauvegarde</button>
      <input type="file" id="loadFile" accept=".json" style="display: none;" onchange="loadFromFile(event)" />
      <button class="btn btn-secondary" onclick="document.getElementById('loadFile').click()">ğŸ“‚ Charger sauvegarde</button>

      <div id="textStyleTools" style="display:none; margin-top: 20px; padding: 15px; background: #f3f4f6; border-radius: 8px;">
        <h3 style="margin-bottom: 10px;">Texte sÃ©lectionnÃ©</h3>
        <div class="form-group">
          <label>Taille</label>
          <input type="range" id="selectedTextSize" min="8" max="32" value="12" />
          <span id="selectedTextSizeValue">12px</span>
        </div>
        <div class="form-group">
          <label><input type="checkbox" id="selectedTextBold" /> Gras</label>
        </div>
      </div>

      <div id="selectedItemActions" style="display:none;">
        <h3>Ã‰lÃ©ment sÃ©lectionnÃ©</h3>
        <button class="btn btn-warning" onclick="editSelectedItem()">âœï¸ Modifier</button>
        <button class="btn btn-danger" onclick="deleteSelectedItem()">ğŸ—‘ï¸ Supprimer</button>
      </div>

      <button class="btn btn-success" onclick="saveToLocalStorage()">ğŸ’¾ Sauvegarder (navigateur)</button>
      <button class="btn btn-secondary" onclick="loadFromLocalStorage()">ğŸ“‚ Charger (navigateur)</button>
    </div>
  </div>

  <!-- Zone de canvas -->
  <div id="canvasContainer" class="canvas-container">
    <canvas id="timeline"></canvas>
    <div id="eventsContainer"></div>
  </div>

  <!-- Modal Ã‰vÃ©nement -->
  <div id="eventModal" class="modal">
    <div class="modal-content">
      <h3 id="eventModalTitle">Ajouter un Ã©vÃ©nement</h3>
      <input type="text" id="eventName" placeholder="Nom de l'Å“uvre" />
      <input type="number" id="eventYear" placeholder="AnnÃ©e" />
      <input type="file" id="eventImage" accept="image/*" />
      <img id="eventPreview" style="display:none; max-width:100%; max-height:150px;" />
      <div class="modal-buttons">
        <button class="btn btn-blue" onclick="saveEvent()">Ajouter</button>
        <button class="btn btn-secondary" onclick="closeModals()">Annuler</button>
      </div>
    </div>
  </div>

  <!-- Modal PÃ©riode -->
  <div id="periodModal" class="modal">
    <div class="modal-content">
      <h3 id="periodModalTitle">Ajouter une pÃ©riode</h3>
      <input type="text" id="periodName" placeholder="Nom de la pÃ©riode" />
      <input type="number" id="periodStart" placeholder="AnnÃ©e dÃ©but" />
      <input type="number" id="periodEnd" placeholder="AnnÃ©e fin" />
      <input type="color" id="periodColor" value="#4299e1" />
      <div class="form-group">
        <label>Ã‰paisseur de la barre</label>
        <input type="range" id="periodHeight" min="20" max="120" value="40" />
        <span id="periodHeightValue">40px</span>
      </div>
      <div class="modal-buttons">
        <button class="btn btn-purple" onclick="savePeriod()">Ajouter</button>
        <button class="btn btn-secondary" onclick="closeModals()">Annuler</button>
      </div>
    </div>
  </div>

  <!-- Modal Artiste -->
  <div id="artistModal" class="modal">
    <div class="modal-content">
      <h3 id="artistModalTitle">Ajouter un artiste</h3>
      <input type="text" id="artistName" placeholder="Nom de l'artiste" />
      <input type="number" id="artistBirth" placeholder="AnnÃ©e de naissance" />
      <input type="number" id="artistDeath" placeholder="AnnÃ©e de dÃ©cÃ¨s" />
      <div class="modal-buttons">
        <button class="btn btn-green" onclick="saveArtist()">Ajouter</button>
        <button class="btn btn-secondary" onclick="closeModals()">Annuler</button>
      </div>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
